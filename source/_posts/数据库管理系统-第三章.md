---
title: 数据库管理系统-第三章-数据库设计
date: 2018-08-24 21:23:20
tags:
categories:
    - 考试
    - 数据库系统原理
---

# 数据库设计

## 数据库设计概述

### 数据库的生命周期
<!-- more -->
1. 数据库分析与设计阶段
    1. 需求分析
    2. 概念设计
    3. 逻辑设计
    4. 物理设计
2. 数据库实现与操作阶段
    1. 实现
    2. 操作与监督
    3. 修改与调整

### 数据库设计的目标

1. 满足应用功能需求（存、取、删、改）
2. 良好的性能（共享性，完整性，一致性，安全保密性）

### 数据库设计的内容

1. 数据库结构设计（结构-静态的）
    1. 数据库概念结构设计
    2. 逻辑结构设计
    3. 物理结构设计
2. 数据库行为设计（操作-动态的）
    1. 功能设计
    2. 事物设计
    3. 程序设计

### 数据库设计的方法

- 直观设计法（最原始的数据库设计方法）
- 规范设计法
    - 新奥尔良设计方法：需求分析、概念结构设计、逻辑结构设计、物理结构设计
    - 基于E-R模型的数据库设计方法
    - 基于第三范式的设计方法，是一类结构化设计方法
- 计算机辅助设计法

### 数据库设计的过程

1. 需求分析
    1. 结构设计
    2. 行为设计
2. 数据库实施
    1. 加载数据库数据
    2. 调试运行应用程序
3. 数据库运行与维护

## 数据设计的基本步骤

### 需求分析
目标：
是了解与分析用户的信息及应用处理的需求，并将结果按一定格式整理而形成需求分析报告

> 该分析报告是后续 概念设计，逻辑设计，物理设计，数据库建立与维护的依据

步骤：
1. 确定数据的范围
    1. 支持哪些应用功能
        1. 有效地利用计算机设备及数数据库系统的潜在能力
        2. 提高数据的应变能力
        3. 避免应用过程中对数据库做太多或太大的修改
        4. 延长数据库的生命周期
2. 分析数据应用过程-结果是数据库设计结构设计的重要依据
    1. 用到哪些数据
    2. 数据使用的顺序
    3. 对数据作何处理和处理的策略以及结果
3. 收集与分析数据
    1. 数据分类表-用于数据的总体描述（静态的结构）
    2. 数据元素表-值通常意义下的数据项或属性（静态结构）
    3. 任务分类表-一个任务指为完成某个特定处理功能的相对独立的操作序列（动态结构）
    4. 数据特征操作表-用以描述任务和数据之间的关系，它包括不同任务对数据执行不同操作的评率（动态）
    5. 数据约束
        1. 数据的安全保密性
        2. 数据的完整性
        3. 响应时间
        4. 数据恢复
4. 编写需求分析报告
    1. 数据的应用功能目标
    2. 标明不同用户视图范围
    3. 应用处理过程需求说明，包括，数据流程图；任务分类表；数据操作特征表；操作过程说明书。
    4. 数据字典，是数据系统中存储三级结构定义的数据库，通常指的是数据库系统中各类数据详细描述的集合。通常包括数据分类表、数据元素表和各类原始资料
    5. 数据量
    6. 数据约束

### 概念结构设计

+ 概念模型（自顶向下） 顶层设计
+ 独立于任何软件与硬件 主要目标：最大限度的满足应用需求

### 逻辑结构设计

+ 层次模型
+ 网状模型
+ 关系模型
+ 面向对象模型

概念设计 --> 模型转换 --> 子模式设计 / 应用程序设计说明 --> 设计评价(检验) --> 物理设计

### 物理设计

具体任务主要是确定数据在存储设备上的 **存储结构** 及 **存取方法** ，因DBMS的不同还可能包括 **建立索引** 和 **聚集**，以及 **物理块的大小**、 **缓冲区个数和大小**、**数据压缩的选择**

### 数据库实施

- **加载数据**：收集、分类、整理校验、输入等
- **应用程序设计**：具有较高的稳定性，并具有试运行的数据基础，也具备了应用程序编制与调试的必要条件。这样编写的应用程序具有较高的稳定性和实用性
- **数据库试运行**
    - 有利于工作人员掌握并熟悉系统
    - 有利于正式运行时避免人为的的操作不当等损害

### 数据库运行与维护

需求分析-- 结构设计 / 行为分析 -- 数据实施 -- 数据库运行与维护

**保证数据库的正常运行**

系统维护中最困难的工作是 **数据库重组与重构**

## 关系数据库设计方法

### 关系数据库设计过程与各级模式

应用要求 -- 概念模式（E-R图） -- 逻辑模式 --内模式

### 概念结构设计方法

E-R图的表示方法
1：1 的联系
1：N 的联系
M：N 的联系
单个实体型内的一对多联系

局部信息结构设计：
1. 确定局部范围：局部范围主要依据需求分析报告中标明的用户视图范围来确定。往往与子模式范围相对应
2. 选择实体：**数据分类表**是选择实体的直接依据，实体选择最大困难时如何区别 **实体与属性**
3. 选择实体的关键字属性：实体的存在依赖于其 **关键字** 的存在
4. 确定实体间的联系：数据间的联系必须在概念设计时确定
5. 确定实体的属性：属性分为标识属性和说明属性

全局信息结构设计：

### 逻辑结构设计方法

1. 将E-R图转化为关系模式
    1. 一个实体型转换为一个关系模式，实体的属性作为关系的属性，实体的码作为关系的码
    2. 一个一对一联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并
    3. 一个一对多联系可以转换为一个独立的关系模式，也可以与N端对应的关系模式合并
    4. 一个对多对联系转换为一个关系模式
    5. 三个或以上实体间的一个多元联系可以转换为一个关系模式
    6. 具有相同码的关系模式可合并
2. 对关系数据模型进行优化
    1. 数据逻辑设计的结果，不是唯一的
    2. 进一步提高数据库应用系统的性能
    3. 根据需要适当地修改、调整数据模型的结构
   
    数据模型的优化
    1. 确定各属性间的函数依赖关系
    2. 对于各个关系模式之间的数据依赖进行极小化处理，消除冗余的联系
    3. 判断每个关系模式的范式，根据实际需要确定最合适的范式
    4. 按照需求分析阶段得到的处理要求，分析这些模式对于这样的应用环境是否合适，确定是否要对某些模式进行合并或分解
    5. 对关系模式进行必要的分解，提高数据操作的效率和存储空间的利用率
3. 设计面向用户的外模式（子模式）
    1. 可以通过试图机制在设计使用户视图时，重新定义某些属性的别名，使其更符合用户的习惯，以方便使用
    2. 可以对不同级别的用户定义不同的视图，以保证系统的安全性
    3. 简化用户对系统的使用

### 物理设计
- 建立索引（逻辑连接）
    - 静态建立索引
    - 动态建立索引
- 建立聚集（物理聚集）
    - 聚集是将相关数据集中存放 **的物理存储技术**
    - 数据聚集结构的一种有效方式是 **块结构方式**
    - 数据聚集可在 **一个或多个**关系上建立